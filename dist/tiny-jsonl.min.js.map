{"version":3,"file":"tiny-jsonl.min.js","sources":["../src/constants.js","../src/valid.js","../src/jsonl.js"],"sourcesContent":["export const STRING_NEW_LINE = \"\\n\";\r\nexport const STRING_STRING = \"string\";\r\nexport const MSG_INVALID_INPUT = \"Argument must be an Array or Object\";\r\n","export function valid (arg) {\r\n\treturn typeof arg === \"object\" && arg !== null;\r\n}\r\n","import {\r\n\tMSG_INVALID_INPUT,\r\n\tSTRING_NEW_LINE,\r\n\tSTRING_STRING\r\n} from \"./constants.js\";\r\nimport {valid} from \"./valid.js\";\r\n\r\n/**\r\n * Converts a JSONL string to an Array of Objects\r\n * @param arg\r\n * @returns {any}\r\n */\r\nexport function parse (arg) {\r\n\tif (typeof arg !== STRING_STRING) {\r\n\t\tthrow new TypeError(MSG_INVALID_INPUT);\r\n\t}\r\n\r\n\tconst result = JSON.parse(`[${arg.trim().split(/(?<=})\\n/).join(\",\")}]`);\r\n\r\n\treturn result.length > 1 ? result : result[0];\r\n}\r\n\r\n/**\r\n * Converts an Object or Array of Objects to JSONL string\r\n * @param arg\r\n * @returns {string}\r\n */\r\nexport function stringify (arg) {\r\n\tif (valid(arg) === false) {\r\n\t\tthrow new TypeError(MSG_INVALID_INPUT);\r\n\t}\r\n\r\n\tconst input = Array.isArray(arg) ? arg : [arg];\r\n\tconst rows = typeof input[0] === \"object\";\r\n\r\n\treturn rows ? input.map(i => valid(i) ? JSON.stringify(i) : i).join(STRING_NEW_LINE) : JSON.stringify(input);\r\n}\r\n"],"names":["MSG_INVALID_INPUT","valid","arg","parse","TypeError","result","JSON","trim","split","join","length","stringify","input","Array","isArray","map","i"],"mappings":";;;;AAAO,MAEMA,EAAoB,sCCF1B,SAASC,EAAOC,GACtB,MAAsB,iBAARA,GAA4B,OAARA,CACnC,CCUO,SAASC,EAAOD,GACtB,GFZ4B,iBEYjBA,EACV,MAAM,IAAIE,UAAUJ,GAGrB,MAAMK,EAASC,KAAKH,MAAM,IAAID,EAAIK,OAAOC,MAAM,YAAYC,KAAK,SAEhE,OAAOJ,EAAOK,OAAS,EAAIL,EAASA,EAAO,EAC5C,CAOO,SAASM,EAAWT,GAC1B,IAAmB,IAAfD,EAAMC,GACT,MAAM,IAAIE,UAAUJ,GAGrB,MAAMY,EAAQC,MAAMC,QAAQZ,GAAOA,EAAM,CAACA,GAG1C,MAFiC,iBAAbU,EAAM,GAEZA,EAAMG,KAAIC,GAAKf,EAAMe,GAAKV,KAAKK,UAAUK,GAAKA,IAAGP,KFnCjC,MEmCyDH,KAAKK,UAAUC,EACvG,QAAAT,WAAAQ"}