/*!
 2024 Jason Mulligan <jason.mulligan@avoidwork.com>
 @version 2.0.2
*/
import{strings as r}from"tiny-strings";const e="Argument must be an Array or Object",n="<IDX_$>";function t(r){return`[${r.map((r=>"string"==typeof r?`"${r}"`:null===r?"null":r)).join(", ")}]`.replace(", ]","]")}function o(r){return`"${r.replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")}"`}function c(r){return"object"==typeof r&&null!==r}function i(r){if("string"!=typeof r)throw new TypeError(e);const n=JSON.parse(`[${r.trim().split(/(?<=})\n/).join(",")}]`);return n.length>1?n:n[0]}function l(i,p=!0){if(!1===c(i))throw new TypeError(e);let s;if(Array.isArray(i)){const r=i.some((r=>r instanceof Object));s=i.map((r=>c(r)?l(r,!1):r)),s=p&&r?s.join("\n"):t(s)}else{let e=JSON.stringify(i,null,0);const t=r(i,!0).map(o);for(const[r,o]of t.entries())e=e.replace(o,n.replace("$",r));s=e.replace(/(:|,)/g,"$1 ");for(const[r,e]of t.entries())s=s.replace(n.replace("$",r.toString()),e)}return s}export{i as parse,l as stringify};//# sourceMappingURL=tiny-jsonl.min.js.map
